{"ast":null,"code":"import { openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, Fragment as _Fragment } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_cache[1] || (_cache[1] = _createTextVNode(\" Welcome to the Index View \")), $options.isLoggedIn ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 0,\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.logout && $options.logout(...args))\n  }, \"Logout\")) : _createCommentVNode(\"v-if\", true)], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["_createElementBlock","_Fragment","_createTextVNode","$options","isLoggedIn","key","onClick","_cache","args","logout","_createCommentVNode"],"sources":["/Users/bela/Library/Mobile Documents/com~apple~CloudDocs/bht/ewd/ewd/src/frontend/src/components/IndexView.vue"],"sourcesContent":["<script>\nimport { logout } from '@/services/auth.service'\nimport { fetchCurrentUser } from '@/services/auth.service'\n\nexport default {\n  name: 'IndexView',\n  data() {\n    return {\n      user: null,\n    }\n  },\n  async mounted() {\n    try {\n      const { data } = await fetchCurrentUser();\n      this.user = data;\n    } catch (err) {\n      console.error(err);\n    }\n  },\n  computed: {\n    // simple check: token exists?\n    isLoggedIn() {\n      return !!localStorage.getItem('user-token')\n    }\n  },\n  methods: {\n    logout() {\n      logout()                     // clear token\n      this.$router.push('/login')  // send them back to login\n    }\n  }\n}\n</script>\n\n<template>\n Welcome to the Index View\n  <button v-if=\"isLoggedIn\" @click=\"logout\">Logout</button>\n</template>\n\n<style scoped>\n\n</style>"],"mappings":";;uBAAAA,mBAAA,CAAAC,SAAA,S,0BAAAC,gBAAA,CAkCU,6BAER,IAAcC,QAAA,CAAAC,UAAU,I,cAAxBJ,mBAAA,CAAyD;IApC3DK,GAAA;IAoC6BC,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEL,QAAA,CAAAM,MAAA,IAAAN,QAAA,CAAAM,MAAA,IAAAD,IAAA,CAAM;KAAE,QAAM,KApClDE,mBAAA,e","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}