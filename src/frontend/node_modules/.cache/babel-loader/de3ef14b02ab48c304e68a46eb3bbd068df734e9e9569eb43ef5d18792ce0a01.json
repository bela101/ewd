{"ast":null,"code":"import \"core-js/modules/web.dom-exception.stack.js\";\nimport axios from 'axios';\nconst API_URL = 'http://localhost:8080/api/auth/';\nexport function register(user) {\n  return axios.post(API_URL + 'register', user);\n}\nexport function login(user) {\n  return axios.post(API_URL + 'login', user).then(resp => {\n    localStorage.setItem('user-token', resp.data.token);\n    return resp;\n  });\n}\nexport function logout() {\n  localStorage.removeItem('user-token');\n}\nexport function getUsernameFromToken() {\n  const token = localStorage.getItem('user-token');\n  if (!token) return null;\n  try {\n    //     JWT format: header.payload.signature\n    const base64Url = token.split('.')[1];\n    const base64 = base64Url.replace('-', '+').replace('_', '/');\n    return JSON.parse(window.atob(base64)).username;\n  } catch (err) {\n    return null;\n  }\n}","map":{"version":3,"names":["axios","API_URL","register","user","post","login","then","resp","localStorage","setItem","data","token","logout","removeItem","getUsernameFromToken","getItem","base64Url","split","base64","replace","JSON","parse","window","atob","username","err"],"sources":["/Users/bela/Library/Mobile Documents/com~apple~CloudDocs/bht/ewd/ewd/src/frontend/src/services/auth.service.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_URL = 'http://localhost:8080/api/auth/';\n\nexport function register(user) {\n    return axios.post(API_URL + 'register', user);\n}\n\nexport function login(user) {\n    return axios.post(API_URL + 'login', user)\n        .then(resp => {\n            localStorage.setItem('user-token', resp.data.token);\n            return resp;\n        });\n}\n\nexport function logout() {\n    localStorage.removeItem('user-token');\n}\n\nexport function getUsernameFromToken() {\n    const token = localStorage.getItem('user-token');\n    if ( !token ) return null;\n    try {\n    //     JWT format: header.payload.signature\n        const base64Url = token.split('.')[1];\n        const base64 = base64Url.replace('-', '+').replace('_', '/');\n        return JSON.parse(window.atob(base64)).username;\n    } catch (err) {\n        return null;\n    }\n}"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAG,iCAAiC;AAEjD,OAAO,SAASC,QAAQA,CAACC,IAAI,EAAE;EAC3B,OAAOH,KAAK,CAACI,IAAI,CAACH,OAAO,GAAG,UAAU,EAAEE,IAAI,CAAC;AACjD;AAEA,OAAO,SAASE,KAAKA,CAACF,IAAI,EAAE;EACxB,OAAOH,KAAK,CAACI,IAAI,CAACH,OAAO,GAAG,OAAO,EAAEE,IAAI,CAAC,CACrCG,IAAI,CAACC,IAAI,IAAI;IACVC,YAAY,CAACC,OAAO,CAAC,YAAY,EAAEF,IAAI,CAACG,IAAI,CAACC,KAAK,CAAC;IACnD,OAAOJ,IAAI;EACf,CAAC,CAAC;AACV;AAEA,OAAO,SAASK,MAAMA,CAAA,EAAG;EACrBJ,YAAY,CAACK,UAAU,CAAC,YAAY,CAAC;AACzC;AAEA,OAAO,SAASC,oBAAoBA,CAAA,EAAG;EACnC,MAAMH,KAAK,GAAGH,YAAY,CAACO,OAAO,CAAC,YAAY,CAAC;EAChD,IAAK,CAACJ,KAAK,EAAG,OAAO,IAAI;EACzB,IAAI;IACJ;IACI,MAAMK,SAAS,GAAGL,KAAK,CAACM,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IACrC,MAAMC,MAAM,GAAGF,SAAS,CAACG,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,CAACA,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC;IAC5D,OAAOC,IAAI,CAACC,KAAK,CAACC,MAAM,CAACC,IAAI,CAACL,MAAM,CAAC,CAAC,CAACM,QAAQ;EACnD,CAAC,CAAC,OAAOC,GAAG,EAAE;IACV,OAAO,IAAI;EACf;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}