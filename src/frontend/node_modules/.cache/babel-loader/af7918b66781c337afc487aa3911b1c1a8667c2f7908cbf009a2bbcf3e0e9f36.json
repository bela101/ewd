{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { logout } from '@/services/auth.service';\nimport { fetchCurrentUser } from '@/services/auth.service';\nexport default {\n  name: 'IndexView',\n  data() {\n    return {\n      user: null\n    };\n  },\n  async mounted() {\n    try {\n      const {\n        data\n      } = await fetchCurrentUser();\n      console.log(data);\n      this.user = data;\n    } catch (err) {\n      console.error(err);\n    }\n  },\n  computed: {\n    // simple check: token exists?\n    isLoggedIn() {\n      return !!localStorage.getItem('user-token');\n    }\n  },\n  methods: {\n    logout() {\n      logout(); // clear token\n      this.$router.push('/login'); // send them back to login\n    }\n  }\n};","map":{"version":3,"names":["logout","fetchCurrentUser","name","data","user","mounted","console","log","err","error","computed","isLoggedIn","localStorage","getItem","methods","$router","push"],"sources":["/Users/bela/Library/Mobile Documents/com~apple~CloudDocs/bht/ewd/ewd/src/frontend/src/components/IndexView.vue"],"sourcesContent":["<script>\nimport { logout } from '@/services/auth.service'\nimport { fetchCurrentUser } from '@/services/auth.service'\n\nexport default {\n  name: 'IndexView',\n  data() {\n    return {\n      user: null,\n    }\n  },\n  async mounted() {\n    try {\n      const { data } = await fetchCurrentUser();\n      console.log(data);\n      this.user = data;\n    } catch (err) {\n      console.error(err);\n    }\n  },\n  computed: {\n    // simple check: token exists?\n    isLoggedIn() {\n      return !!localStorage.getItem('user-token')\n    }\n  },\n  methods: {\n    logout() {\n      logout()                     // clear token\n      this.$router.push('/login')  // send them back to login\n    }\n  }\n}\n</script>\n\n<template>\n Welcome to the Index View {{ user }}\n  <button v-if=\"isLoggedIn\" @click=\"logout\">Logout</button>\n</template>\n\n<style scoped>\n\n</style>"],"mappings":";AACA,SAASA,MAAK,QAAS,yBAAwB;AAC/C,SAASC,gBAAe,QAAS,yBAAwB;AAEzD,eAAe;EACbC,IAAI,EAAE,WAAW;EACjBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,IAAI,EAAE;IACR;EACF,CAAC;EACD,MAAMC,OAAOA,CAAA,EAAG;IACd,IAAI;MACF,MAAM;QAAEF;MAAK,IAAI,MAAMF,gBAAgB,CAAC,CAAC;MACzCK,OAAO,CAACC,GAAG,CAACJ,IAAI,CAAC;MACjB,IAAI,CAACC,IAAG,GAAID,IAAI;IAClB,EAAE,OAAOK,GAAG,EAAE;MACZF,OAAO,CAACG,KAAK,CAACD,GAAG,CAAC;IACpB;EACF,CAAC;EACDE,QAAQ,EAAE;IACR;IACAC,UAAUA,CAAA,EAAG;MACX,OAAO,CAAC,CAACC,YAAY,CAACC,OAAO,CAAC,YAAY;IAC5C;EACF,CAAC;EACDC,OAAO,EAAE;IACPd,MAAMA,CAAA,EAAG;MACPA,MAAM,CAAC,GAAsB;MAC7B,IAAI,CAACe,OAAO,CAACC,IAAI,CAAC,QAAQ,GAAG;IAC/B;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}